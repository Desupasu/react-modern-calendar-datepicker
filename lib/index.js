"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React);function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){_defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function _objectWithoutProperties(e,t){if(null==e)return{};var a,n,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var GREGORIAN_MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"],GREGORIAN_WEEK_DAYS=[{name:"Monday",short:"M"},{name:"Tuesday",short:"T"},{name:"Wednesday",short:"W"},{name:"Thursday",short:"T"},{name:"Friday",short:"F"},{name:"Saturday",short:"S",isWeekend:!0},{name:"Sunday",short:"S",isWeekend:!0}],RUSSIAN_MONTHS=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],RUSSIAN_WEEK_DAYS=[{name:"Понедельник",short:"пн"},{name:"Вторник",short:"вт"},{name:"Среда",short:"ср"},{name:"Четверг",short:"чт"},{name:"Пятница",short:"пт"},{name:"Суббота",short:"сб",isWeekend:!0},{name:"Воскресенье",short:"вс",isWeekend:!0}],MINIMUM_SELECTABLE_YEAR_SUBTRACT=100,MAXIMUM_SELECTABLE_YEAR_SUM=50,TYPE_SINGLE_DATE="SINGLE_DATE",TYPE_RANGE="RANGE",TYPE_MUTLI_DATE="MUTLI_DATE",createFixedRange=function(e,t){var a=e.firstIndex,n=e.lastIndex;return n-a>0?Array.from(Array(n-a).keys()).map((function(e){return{value:e+a,id:"".concat(t,"-").concat(e)}})):[]},createUniqueRange=function(e,t){return Array.from(Array(e).keys()).map((function(e){return{value:e+1,id:"".concat(t,"-").concat(e)}}))},isSameDay=function(e,t){return!(!e||!t)&&(e.day===t.day&&e.month===t.month&&e.year===t.year)},putZero=function(e){return 1===e.toString().length?"0".concat(e):e},shallowClone=function(e){return _objectSpread2({},e)},deepCloneObject=function(e){return JSON.parse(JSON.stringify(e,(function(e,t){return void 0===t?null:t})))},getDateAccordingToMonth=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n="NEXT"===t?a:-a,r=e.month+n,o=e.year;r<1&&(r+=12,o-=1),r>12&&(r-=12,o+=1);var c={year:o,month:r,day:1};return c},hasProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e||{},t)},getValueType=function(e){if(Array.isArray(e))return TYPE_MUTLI_DATE;if(hasProperty(e,"from")&&hasProperty(e,"to"))return TYPE_RANGE;if(!e||hasProperty(e,"year")&&hasProperty(e,"month")&&hasProperty(e,"day"))return TYPE_SINGLE_DATE;throw new TypeError("The passed value is malformed! Please make sure you're using one of the valid value types for date picker.")},localeLanguages={en:{months:GREGORIAN_MONTHS,weekDays:GREGORIAN_WEEK_DAYS,weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"Next Month",previousMonth:"Previous Month",openMonthSelector:"Open Month Selector",openYearSelector:"Open Year Selector",closeMonthSelector:"Close Month Selector",closeYearSelector:"Close Year Selector",from:"from",to:"to",defaultPlaceholder:"Select...",digitSeparator:",",yearLetterSkip:0,isRtl:!1},ru:{months:RUSSIAN_MONTHS,weekDays:RUSSIAN_WEEK_DAYS,weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"Следующий месяц",previousMonth:"Предыдущий месяц",openMonthSelector:"Открыть выбор месяца",openYearSelector:"Открыть выбор года",closeMonthSelector:"Закрыть выбор месяца",closeYearSelector:"Закрыть выбор года",from:"с",to:"по",defaultPlaceholder:"Выбор...",digitSeparator:",",yearLetterSkip:0,isRtl:!1}},getLocaleDetails=function(e){return"string"==typeof e?localeLanguages[e]:e},utils=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t="string"==typeof e?getLocaleDetails(e):e,a=t.months,n=t.getToday,r=t.toNativeDate,o=t.getMonthLength,c=t.weekStartingIndex,i=t.transformDigit,l=function(e){return new Date(e.year,e.month,0).getDate()},s=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return n({year:t,month:a,day:r})},u=function(e){return a[e-1]},d=function(e){return a.indexOf(e)+1},m=function(e){var t=r(_objectSpread2({},e,{day:1})),a=t.getDay();t.setDate(0);var n=(a+c)%7||7;return{firstIndex:t.getDate()-n+2,lastIndex:t.getDate()+1}},f=function(e,t){return!(!e||!t)&&r(e)<r(t)},h=function(e){var t=e.day,a=e.from,n=e.to;if(!t||!a||!n)return!1;var o=r(t),c=r(a),i=r(n);return o>c&&o<i};return{getToday:s,getMonthName:u,getMonthNumber:d,getMonthLength:o,getMonthFirstWeekday:m,isBeforeDate:f,checkDayInDayRange:h,getLanguageDigits:i,daysInMonth:l}},useLocaleUtils=function(e){return React.useMemo((function(){return utils(e)}),[e])},useLocaleLanguage=function(e){return React.useMemo((function(){return getLocaleDetails(e)}),[e])},getSlideDate=function(e){var t=e.parent,a=e.isInitialActiveChild,n=e.activeDate,r=e.monthChangeDirection,o=e.key,c=e.isAnimate;if(void 0!==o){if(!t)return a?n:getDateAccordingToMonth(n,0===o?"PREVIOUS":"NEXT");if(c){var i="NEXT"===r?0:2;if(o===i)return n;if(1===o)return getDateAccordingToMonth(n,r);if(o===2-i)return getDateAccordingToMonth(n,r,2)}return console.log(n),a?n:getDateAccordingToMonth(n,"NEXT"===r?0===o?"PREVIIOUS":"NEXT":0===o?"PREVIOUS":"NEXT")}if(!t)return a?n:getDateAccordingToMonth(n,"NEXT");var l=t.children[a?0:1];return l.classList.contains("-shown")||l.classList.contains("-shownAnimated")?n:getDateAccordingToMonth(n,r)},animateContent=function(e){var t=e.parent,a=e.direction,n=e.type,r=Array.from(t.children),o=r.find((function(e){return e.classList.contains("-shown")}));if("month"===n){var c=r.filter((function(e){return e!==o})),i=function(e){return e?"-r":"-l"},l="NEXT"===a;return o.style.transition="",o.classList.add(i(l)),c.forEach((function(e){return e.classList.add(i(l))})),void r.forEach((function(e){return e.classList.add("-shownAnimated")}))}var s=r.find((function(e){return e!==o})),u=o.classList[0],d="NEXT"===a,m=function(e){return e?"-hiddenNext":"-hiddenPrevious"};s.style.transition="none",o.style.transition="",o.className="".concat(u," ").concat(m(!d)),s.className="".concat(u," ").concat(m(d)),s.classList.add("-shownAnimated")},handleSlideAnimationEnd=function(e){var t=e.target,a=e.key;if(1!==a&&void 0!==a)return t.classList.remove("-shownAnimated"),t.classList.remove("-r"),void t.classList.remove("-l");t.classList.remove("-r"),t.classList.remove("-l"),t.classList.remove("-hiddenNext"),t.classList.remove("-hiddenPrevious"),t.classList.replace("-shownAnimated","-shown")},Header=function(e){var t=e.maximumDate,a=e.minimumDate,n=e.onMonthChange,r=e.activeDate,o=e.monthChangeDirection,c=e.onMonthSelect,i=e.onYearSelect,l=e.isMonthSelectorOpen,s=e.isYearSelectorOpen,u=e.locale,d=React.useRef(null),m=React.useRef(null),f=React.useRef(null),h=useLocaleUtils(u),y=h.getMonthName,_=h.isBeforeDate,p=h.getLanguageDigits,g=useLocaleLanguage(u),S=g.isRtl,D=g.nextMonth,v=g.previousMonth,E=g.openMonthSelector,b=g.closeMonthSelector,R=g.openYearSelector,C=g.closeYearSelector;React.useEffect((function(){o&&(animateContent({direction:o,parent:m.current,type:"month"}),animateContent({direction:o,parent:f.current,type:"year"}))}),[o]),React.useEffect((function(){var e=l||s,t=d.current.querySelector(".Calendar__stayShown"),a=d.current.querySelector(".Calendar__monthYear.-shown .Calendar__yearText"),n=function(e){return e.classList.contains("-activeBackground")};if(!(!e&&!n(t)&&!n(a))){var r=_toConsumableArray(d.current.querySelectorAll(".Calendar__monthArrowWrapper")),o=l||n(t),c=o?t:a,i=o?a:t;e?i.setAttribute("aria-hidden",!0):i.removeAttribute("aria-hidden"),i.setAttribute("tabindex",e?"-1":"0"),i.style.transform="",c.classList.toggle("-activeBackground"),i.classList.toggle("-hidden"),r.forEach((function(e){var t=e.classList.contains("-hidden");e.classList.toggle("-hidden"),t?(e.removeAttribute("aria-hidden"),e.setAttribute("tabindex","0")):(e.setAttribute("aria-hidden",!0),e.setAttribute("tabindex","-1"))}))}}),[l,S,s]);var A=function(e,t,a){var n=getSlideDate({isInitialActiveChild:e,monthChangeDirection:o,activeDate:r,parent:void 0!==t?m.current:f.current,key:t,isAnimate:a}),c=p(n.year);return{month:y(n.month),year:c}},N=t&&_(t,_objectSpread2({},r,{month:r.month+1,day:1})),T=a&&(_(_objectSpread2({},r,{day:1}),a)||isSameDay(a,_objectSpread2({},r,{day:1}))),w=function(e){Array.from(m.current.children).some((function(e){return e.classList.contains("-shownAnimated")}))||n(e)},L=[!1,!0,!1].map((function(e,t){var a=A(e,t).month,n=a===y(r.month),o=_objectSpread2({},n?{}:{"aria-hidden":!0});return React__default.createElement("div",_extends({onAnimationEnd:function(e){return handleSlideAnimationEnd({target:e.target,key:t})},onAnimationStart:function(n){a=A(e,t,!0).month,n.currentTarget.children[0].textContent=a},className:"Calendar__monthYear ".concat(e?"-shown":0===t?"-hiddenPrevious":"-hiddenNext"),role:"presentation",key:String(t)},o),React__default.createElement("button",_extends({onClick:c,type:"button",className:"Calendar__monthText","aria-label":l?b:E,tabIndex:n?"0":"-1"},o),a))})),P=[!0,!1].map((function(e){var t=A(e),a=t.month,n=t.year,o=a===y(r.month),c=_objectSpread2({},o?{}:{"aria-hidden":!0});return React__default.createElement("div",_extends({onAnimationEnd:handleSlideAnimationEnd,className:"Calendar__monthYear ".concat(e?"-shown":"-hiddenNext"),role:"presentation",key:String(e)},c),React__default.createElement("button",_extends({onClick:i,type:"button",className:"Calendar__yearText","aria-label":s?C:R,tabIndex:o?"0":"-1"},c),n))}));return React__default.createElement("div",{ref:d,className:"Calendar__header"},React__default.createElement("div",{className:"Calendar__header_row"},React__default.createElement("button",{className:"Calendar__monthArrowWrapper -right",onClick:function(){w("PREVIOUS")},"aria-label":v,type:"button",disabled:T},React__default.createElement("span",{className:"Calendar__monthArrow"})),React__default.createElement("div",{className:"Calendar__monthYearContainer",ref:f,"data-testid":"month-year-container"}," ",P),React__default.createElement("button",{className:"Calendar__monthArrowWrapper -left",onClick:function(){w("NEXT")},"aria-label":D,type:"button",disabled:N},React__default.createElement("span",{className:"Calendar__monthArrow"}))),React__default.createElement("div",{className:"Calendar__header_row"},React__default.createElement("div",{className:"Calendar__monthYearContainer Calendar__stayShown",ref:m,"data-testid":"month-year-container"}," ",L)))},handleArrowKeys=function(e,t){var a=t.allowVerticalArrows,n=document.activeElement,r=function(e,t){return e?e.children[t]:null},o=function(e){return e&&(e.hasAttribute("aria-hidden")?null:e)},c=n.parentElement,i=c.nextSibling,l=c.previousSibling,s=o(n.nextSibling||r(i,0)),u=l?l.children.length-1:0,d=o(n.previousSibling||r(l,u)),m=function(e){return r(e,Array.from(n.parentElement.children).indexOf(n))},f=o(m(i)),h=o(m(l));"true"===n.dataset.isDefaultSelectable||(n.tabIndex="-1");var y=function(t){e.preventDefault(),t&&(t.setAttribute("tabindex","0"),t.focus())};switch(e.key){case"ArrowRight":y(s);break;case"ArrowLeft":y(d);break;case"ArrowDown":a&&y(f);break;case"ArrowUp":a&&y(h)}},MonthSelector=function(e){var t=e.activeDate,a=e.maximumDate,n=e.minimumDate,r=e.onMonthSelect,o=e.isOpen,c=e.locale,i=React.useRef(null);React.useEffect((function(){var e=o?"add":"remove";i.current.classList[e]("-open")}),[o]);var l=useLocaleUtils(c),s=l.getMonthNumber,u=l.isBeforeDate,d=useLocaleLanguage(c).months;return React__default.createElement("div",_extends({role:"presentation",className:"Calendar__monthSelectorAnimationWrapper"},o?{}:{"aria-hidden":!0}),React__default.createElement("div",{role:"presentation","data-testid":"month-selector-wrapper",className:"Calendar__monthSelectorWrapper",onKeyDown:function(e){handleArrowKeys(e,{allowVerticalArrows:!1})}},React__default.createElement("ul",{ref:i,className:"Calendar__monthSelector","data-testid":"month-selector"},d.map((function(e){var c=s(e),i={day:1,month:c,year:t.year},l=a&&u(a,_objectSpread2({},i,{month:c})),d=n&&(u(_objectSpread2({},i,{month:c+1}),n)||isSameDay(_objectSpread2({},i,{month:c+1}),n)),m=c===t.month;return React__default.createElement("li",{key:e,className:"Calendar__monthSelectorItem ".concat(m?"-active":"")},React__default.createElement("button",{tabIndex:m&&o?"0":"-1",onClick:function(){r(c)},className:"Calendar__monthSelectorItemText",type:"button",disabled:l||d,"aria-pressed":m,"data-is-default-selectable":m},e))})))))},YearSelector=function(e){for(var t=e.isOpen,a=e.activeDate,n=e.onYearSelect,r=e.selectorStartingYear,o=e.selectorEndingYear,c=e.maximumDate,i=e.minimumDate,l=e.locale,s=React.useRef(null),u=React.useRef(null),d=useLocaleUtils(l),m=d.getLanguageDigits,f=d.getToday,h=r||f().year-MINIMUM_SELECTABLE_YEAR_SUBTRACT,y=o||f().year+MAXIMUM_SELECTABLE_YEAR_SUM,_=[],p=h;p<=y;p+=1)_.push(p);React.useEffect((function(){var e=t?"add":"remove",a=s.current.querySelector(".Calendar__yearSelectorItem.-active");if(!a)throw new RangeError("Provided value for year is out of selectable year range. You're probably using a wrong locale prop value or your provided value's locale is different from the date picker locale. Try changing the 'locale' prop or the value you've provided.");s.current.classList[e]("-faded"),u.current.scrollTop=a.offsetTop-5*a.offsetHeight,u.current.classList[e]("-open")}),[t]);return React__default.createElement("div",_extends({className:"Calendar__yearSelectorAnimationWrapper",role:"presentation"},t?{}:{"aria-hidden":!0}),React__default.createElement("div",{ref:s,className:"Calendar__yearSelectorWrapper",role:"presentation","data-testid":"year-selector-wrapper",onKeyDown:function(e){handleArrowKeys(e,{allowVerticalArrows:!1})}},React__default.createElement("ul",{ref:u,className:"Calendar__yearSelector","data-testid":"year-selector"},_.map((function(e){var r=c&&e>c.year,o=i&&e<i.year,l=a.year===e;return React__default.createElement("li",{key:e,className:"Calendar__yearSelectorItem ".concat(l?"-active":"")},React__default.createElement("button",{tabIndex:l&&t?"0":"-1",className:"Calendar__yearSelectorText",type:"button",onClick:function(){n(e)},disabled:r||o,"aria-pressed":l,"data-is-default-selectable":l},m(e)))})))))};YearSelector.defaultProps={selectorStartingYear:0,selectorEndingYear:0};var _excluded=["isDisabled"],DaysList=function(e){var t=e.activeDate,a=e.value,n=e.monthChangeDirection,r=e.onSlideChange,o=e.disabledDays,c=e.onDisabledDayError,i=e.minimumDate,l=e.maximumDate,s=e.onChange,u=e.locale,d=e.calendarTodayClassName,m=e.calendarSelectedDayClassName,f=e.calendarRangeStartClassName,h=e.calendarRangeEndClassName,y=e.calendarRangeBetweenClassName,_=e.shouldHighlightWeekends,p=e.isQuickSelectorOpen,g=e.customDaysClassName,S=React.useRef(null),D=useLocaleLanguage(u),v=D.isRtl,E=D.weekDays,b=useLocaleUtils(u),R=b.getToday,C=b.isBeforeDate,A=b.checkDayInDayRange,N=b.getMonthFirstWeekday,T=b.getMonthLength,w=b.getLanguageDigits,L=b.getMonthName,P=R();React.useEffect((function(){n&&animateContent({direction:n,parent:S.current})}),[n]);var M=function(e){var t=function(){switch(getValueType(a)){case TYPE_SINGLE_DATE:return e;case TYPE_RANGE:return function(e){var t=deepCloneObject(a),n=t.from&&t.to?{from:null,to:null}:t,r=n.from?"to":"from";n[r]=e;var i=n.from,l=n.to;C(n.to,n.from)&&(n.from=l,n.to=i);var s=o.find((function(e){return A({day:e,from:n.from,to:n.to})}));return s?(c(s),a):n}(e);case TYPE_MUTLI_DATE:return function(e){var t=a.some((function(t){return isSameDay(t,e)})),n=[].concat(_toConsumableArray(a),[e]),r=a.filter((function(t){return!isSameDay(t,e)}));return t?r:n}(e)}}();s(t)},O=function(e){var t,n,r=isSameDay(e,P),o=(t=e,(n=getValueType(a))===TYPE_SINGLE_DATE?isSameDay(t,a):n===TYPE_MUTLI_DATE?a.some((function(e){return isSameDay(e,t)})):void 0),c=a||{},i=c.from,l=c.to;return{isToday:r,isSelected:o,isStartingDayRange:isSameDay(e,i),isEndingDayRange:isSameDay(e,l),isWithinRange:A({day:e,from:i,to:l})}},k=function(e){var t=e.isDisabled,a=_objectWithoutProperties(e,_excluded);t?c(a):M(a)},I=function(e,a){var n=e.id,r=e.value,c=e.month,s=e.year,u=e.isStandard,S={day:r,month:c,year:s},D=o.some((function(e){return isSameDay(S,e)})),b=C(S,i),R=C(l,S),A=D||u&&(b||R),N=E.some((function(e,t){return e.isWeekend&&t===a})),T=function(e){var t=O(e),a=t.isToday,n=t.isSelected,r=t.isStartingDayRange,o=t.isEndingDayRange,c=t.isWithinRange,i=g.find((function(t){return isSameDay(e,t)}));return"".concat(a&&!n?" -today ".concat(d):"").concat(e.isStandard?"":" -notStandard").concat(e.isWeekend&&_?" -weekend":"").concat(i?" ".concat(i.className):"").concat(n?" -selected ".concat(m):"").concat(r?" -selectedStart ".concat(f):"").concat(o?" -selectedEnd ".concat(h):"").concat(c?" -selectedBetween ".concat(y):"").concat(e.isDisabled?" -disabled":"")}(_objectSpread2({},S,{isWeekend:N,isStandard:u,isDisabled:A})),P="".concat(E[a].name,", ").concat(r," ").concat(L(c)," ").concat(s),M=c===t.month,I=O(S),x=I.isSelected,Y=I.isStartingDayRange,j=I.isEndingDayRange,W=I.isWithinRange,U=function(e){var t=e.isOnActiveSlide,a=e.isStandard,n=e.isSelected,r=e.isStartingDayRange,o=e.isToday,c=e.day;return!(p||!t||!a)&&(!!(n||r||o||1===c)||void 0)}(_objectSpread2({},S,{},I,{isOnActiveSlide:M,isStandard:u}));return React__default.createElement("div",_extends({tabIndex:U?"0":"-1",key:n,className:"Calendar__day -".concat(v?"rtl":"ltr"," ").concat(T),onClick:function(){k(_objectSpread2({},S,{isDisabled:A}))},onKeyDown:function(e){"Enter"===e.key&&k(_objectSpread2({},S,{isDisabled:A}))},"aria-disabled":A,"aria-label":P,"aria-selected":x||Y||j||W},u&&M&&!p?{}:{"aria-hidden":!0},{role:"gridcell","data-is-default-selectable":U}),w(r))},x=function(e){var a=function(e){var t=createFixedRange(_objectSpread2({},N(e)),"prev-month").map((function(t){return _objectSpread2({},t,{isStandard:!1,month:e.month,year:e.year})})),a=createUniqueRange(T(e)).map((function(t){return _objectSpread2({},t,{isStandard:!0,month:e.month,year:e.year})})),n=createUniqueRange(T(e),"next-month").map((function(t){return _objectSpread2({},t,{isStandard:!1,month:e.month,year:e.year})}));return[].concat(_toConsumableArray(t),_toConsumableArray(a),_toConsumableArray(n))}(getSlideDate({activeDate:t,isInitialActiveChild:e,monthChangeDirection:n,parent:S.current}));return Array.from(Array(6).keys()).map((function(e){var t=a.slice(7*e,7*e+7).map(I);return React__default.createElement("div",{key:String(e),className:"Calendar__weekRow",role:"row"},t)}))};return React__default.createElement("div",{ref:S,className:"Calendar__sectionWrapper",role:"presentation","data-testid":"days-section-wrapper",onKeyDown:function(e){handleArrowKeys(e,{allowVerticalArrows:!0})}},React__default.createElement("div",{onAnimationEnd:function(e){handleSlideAnimationEnd(e),r()},className:"Calendar__section -shown",role:"rowgroup"},x(!0)),React__default.createElement("div",{onAnimationEnd:function(e){handleSlideAnimationEnd(e),r()},className:"Calendar__section -hiddenNext",role:"rowgroup"},x(!1)))};DaysList.defaultProps={onChange:function(){},onDisabledDayError:function(){},disabledDays:[],calendarTodayClassName:"",calendarSelectedDayClassName:"",calendarRangeStartClassName:"",calendarRangeBetweenClassName:"",calendarRangeEndClassName:"",shouldHighlightWeekends:!1};var Calendar=function(e){var t=e.value,a=e.onChange,n=e.onDisabledDayError,r=e.calendarClassName,o=e.calendarTodayClassName,c=e.calendarSelectedDayClassName,i=e.calendarRangeStartClassName,l=e.calendarRangeBetweenClassName,s=e.calendarRangeEndClassName,u=e.disabledDays,d=e.colorPrimary,m=e.colorPrimaryLight,f=e.slideAnimationDuration,h=e.minimumDate,y=e.maximumDate,_=e.selectorStartingYear,p=e.selectorEndingYear,g=e.locale,S=e.shouldHighlightWeekends,D=e.renderFooter,v=e.customDaysClassName,E=React.useRef(null),b=_slicedToArray(React.useState({activeDate:null,monthChangeDirection:"",isMonthSelectorOpen:!1,isYearSelectorOpen:!1}),2),R=b[0],C=b[1];React.useEffect((function(){var e=function(e){"Tab"===e.key&&E.current.classList.remove("-noFocusOutline")};return E.current.addEventListener("keyup",e,!1),function(){E.current.removeEventListener("keyup",e,!1)}}));var A,N=useLocaleUtils(g).getToday,T=useLocaleLanguage(g),w=T.weekDays,L=T.isRtl,P=N(),M=function(e){return function(){C(_objectSpread2({},R,_defineProperty({},e,!R[e])))}},O=M("isMonthSelectorOpen"),k=M("isYearSelectorOpen"),I=R.activeDate?shallowClone(R.activeDate):(A=getValueType(t))===TYPE_MUTLI_DATE&&t.length?shallowClone(t[0]):A===TYPE_SINGLE_DATE&&t?shallowClone(t):A===TYPE_RANGE&&t.from?shallowClone(t.from):shallowClone(P),x=w.map((function(e){return React__default.createElement("abbr",{key:e.name,title:e.name,className:"Calendar__weekDay"},e.short)}));return React__default.createElement("div",{className:"Calendar -noFocusOutline ".concat(r," -").concat(L?"rtl":"ltr"),role:"grid",style:{"--cl-color-primary":d,"--cl-color-primary-light":m,"--animation-duration":f},ref:E},React__default.createElement(Header,{maximumDate:y,minimumDate:h,activeDate:I,onMonthChange:function(e){C(_objectSpread2({},R,{monthChangeDirection:e}))},onMonthSelect:O,onYearSelect:k,monthChangeDirection:R.monthChangeDirection,isMonthSelectorOpen:R.isMonthSelectorOpen,isYearSelectorOpen:R.isYearSelectorOpen,locale:g}),React__default.createElement(MonthSelector,{isOpen:R.isMonthSelectorOpen,activeDate:I,onMonthSelect:function(e){C(_objectSpread2({},R,{activeDate:_objectSpread2({},I,{month:e}),isMonthSelectorOpen:!1}))},maximumDate:y,minimumDate:h,locale:g}),React__default.createElement(YearSelector,{isOpen:R.isYearSelectorOpen,activeDate:I,onYearSelect:function(e){C(_objectSpread2({},R,{activeDate:_objectSpread2({},I,{year:e}),isYearSelectorOpen:!1}))},selectorStartingYear:_,selectorEndingYear:p,maximumDate:y,minimumDate:h,locale:g}),React__default.createElement("div",{className:"Calendar__weekDays"},x),React__default.createElement(DaysList,{activeDate:I,value:t,monthChangeDirection:R.monthChangeDirection,onSlideChange:function(){C(_objectSpread2({},R,{activeDate:getDateAccordingToMonth(I,R.monthChangeDirection),monthChangeDirection:""}))},disabledDays:u,onDisabledDayError:n,minimumDate:h,maximumDate:y,onChange:a,calendarTodayClassName:o,calendarSelectedDayClassName:c,calendarRangeStartClassName:i,calendarRangeEndClassName:s,calendarRangeBetweenClassName:l,locale:g,shouldHighlightWeekends:S,customDaysClassName:v,isQuickSelectorOpen:R.isYearSelectorOpen||R.isMonthSelectorOpen}),React__default.createElement("div",{className:"Calendar__footer"},D()))};Calendar.defaultProps={minimumDate:null,maximumDate:null,colorPrimary:"rgba(0, 67, 122, 1)",colorPrimaryLight:"#cff4d5",slideAnimationDuration:"0.4s",calendarClassName:"",locale:"ru",value:null,renderFooter:function(){return null},customDaysClassName:[]};var DatePickerInput=React__default.forwardRef((function(e,t){var a=e.value,n=e.inputPlaceholder,r=e.inputClassName,o=e.inputName,c=e.formatInputText,i=e.renderInput,l=e.locale,s=useLocaleUtils(l).getLanguageDigits,u=useLocaleLanguage(l),d=u.from,m=u.to,f=u.yearLetterSkip,h=u.digitSeparator,y=u.defaultPlaceholder,_=u.isRtl,p=function(){if(c())return c();switch(getValueType(a)){case TYPE_SINGLE_DATE:return function(){if(!a)return"";var e=s(a.year),t=s(putZero(a.month)),n=s(putZero(a.day));return"".concat(e,"/").concat(t,"/").concat(n)}();case TYPE_RANGE:return function(){if(!a.from||!a.to)return"";var e=a.from,t=a.to,n="".concat(s(putZero(e.year)).toString().slice(f),"/").concat(s(putZero(e.month)),"/").concat(s(putZero(e.day))),r="".concat(s(putZero(t.year)).toString().slice(f),"/").concat(s(putZero(t.month)),"/").concat(s(putZero(t.day)));return"".concat(d," ").concat(n," ").concat(m," ").concat(r)}();case TYPE_MUTLI_DATE:return a.map((function(e){return s(e.day)})).join("".concat(h," "))}},g=n||y;return i({ref:t})||React__default.createElement("input",{"data-testid":"datepicker-input",readOnly:!0,ref:t,value:p(),name:o,placeholder:g,className:"DatePicker__input -".concat(_?"rtl":"ltr"," ").concat(r),"aria-label":g})}));DatePickerInput.defaultProps={formatInputText:function(){return""},renderInput:function(){return null},inputPlaceholder:"",inputClassName:"",inputName:""};var DatePicker=function(e){var t=e.value,a=e.onChange,n=e.formatInputText,r=e.inputPlaceholder,o=e.inputClassName,c=e.inputName,i=e.renderInput,l=e.wrapperClassName,s=e.calendarClassName,u=e.calendarTodayClassName,d=e.calendarSelectedDayClassName,m=e.calendarRangeStartClassName,f=e.calendarRangeBetweenClassName,h=e.calendarRangeEndClassName,y=e.calendarPopperPosition,_=e.disabledDays,p=e.onDisabledDayError,g=e.colorPrimary,S=e.colorPrimaryLight,D=e.slideAnimationDuration,v=e.minimumDate,E=e.maximumDate,b=e.selectorStartingYear,R=e.selectorEndingYear,C=e.locale,A=e.shouldHighlightWeekends,N=e.renderFooter,T=e.customDaysClassName,w=React.useRef(null),L=React.useRef(null),P=React.useRef(!1),M=_slicedToArray(React.useState(!1),2),O=M[0],k=M[1];React.useEffect((function(){var e=function(){k(!1)};return window.addEventListener("blur",e,!1),function(){window.removeEventListener("blur",e,!1)}}),[]),React.useEffect((function(){var e=getValueType(t);e!==TYPE_MUTLI_DATE&&((e===TYPE_SINGLE_DATE?!O:!O&&t.from&&t.to)&&L.current.blur())}),[t,O]);React.useLayoutEffect((function(){if(O){var e=w.current.getBoundingClientRect(),t=e.left,a=e.width,n=e.height,r=e.top,o=document.documentElement,c=o.clientWidth,i=o.clientHeight,l=t+a>c,s=t<0,u=r+n>i;w.current.style.left=function(){var e=t+a-c;if(l||s){var n=Math.abs(t),r=s?n:0;return l?"calc(50% - ".concat(e,"px)"):"calc(50% + ".concat(r,"px)")}}(),("auto"===y&&u||"top"===y)&&w.current.classList.add("-top")}}),[y,O]);return React.useEffect((function(){!O&&P.current&&(L.current.focus(),P.current=!1)}),[P,O]),React__default.createElement("div",{onFocus:function(){P.current||k(!0)},onBlur:function(e){if(e.persist(),O){var t=w.current.contains(e.relatedTarget);P.current?(P.current=!1,L.current.focus()):t&&e.relatedTarget?e.relatedTarget.focus():k(!1)}},onKeyUp:function(e){switch(e.key){case"Enter":k(!0);break;case"Escape":k(!1),P.current=!0}},className:"DatePicker ".concat(l),role:"presentation"},React__default.createElement(DatePickerInput,{ref:L,formatInputText:n,value:t,inputPlaceholder:r,inputClassName:o,renderInput:i,inputName:c,locale:C}),O&&React__default.createElement(React__default.Fragment,null,React__default.createElement("div",{ref:w,className:"DatePicker__calendarContainer","data-testid":"calendar-container",role:"presentation",onMouseDown:function(){P.current=!0}},React__default.createElement(Calendar,{value:t,onChange:function(e){var n=getValueType(t);a(e),n===TYPE_SINGLE_DATE?k(!1):n===TYPE_RANGE&&e.from&&e.to&&k(!1)},calendarClassName:s,calendarTodayClassName:u,calendarSelectedDayClassName:d,calendarRangeStartClassName:m,calendarRangeBetweenClassName:f,calendarRangeEndClassName:h,disabledDays:_,colorPrimary:g,colorPrimaryLight:S,slideAnimationDuration:D,onDisabledDayError:p,minimumDate:v,maximumDate:E,selectorStartingYear:b,selectorEndingYear:R,locale:C,shouldHighlightWeekends:A,renderFooter:N,customDaysClassName:T})),React__default.createElement("div",{className:"DatePicker__calendarArrow"})))};DatePicker.defaultProps={wrapperClassName:"",locale:"en",calendarPopperPosition:"auto"},exports.Calendar=Calendar,exports.default=DatePicker,exports.utils=utils;
